(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[0],{124:function(e,t,a){e.exports={nav:"Navbar_nav__1_ZQ8"}},125:function(e,t,a){e.exports={errorText:"Error_errorText__2jaD9"}},14:function(e,t,a){e.exports={avatar:"ProfileInfo_avatar__3rmGo",profileImgBtn:"ProfileInfo_profileImgBtn__1THf9",contacts:"ProfileInfo_contacts__sn4XJ",userPhoto:"ProfileInfo_userPhoto__3gIt4",profileInform:"ProfileInfo_profileInform__76zXd",btnEdit:"ProfileInfo_btnEdit__3P_5S",profileLoad:"ProfileInfo_profileLoad__1fiQF",descr:"ProfileInfo_descr__12BED",status:"ProfileInfo_status__2f51D",des:"ProfileInfo_des__2QyFo",statusEdit:"ProfileInfo_statusEdit__Qgcwp"}},152:function(e,t,a){},18:function(e,t,a){e.exports={loginImg:"Login_loginImg__3eF2U",loginHeader:"Login_loginHeader__3Lx28",loginWrapper:"Login_loginWrapper__2utmJ",box:"Login_box__1E8k5",subTitle:"Login_subTitle__2OVzO",link:"Login_link__29QdP",text:"Login_text__3iryB",decor:"Login_decor__2MPCK",input:"Login_input__AC1P1",label:"Login_label__2qEZ0",inputCheckbox:"Login_inputCheckbox__nUMou",btnLogin:"Login_btnLogin__1jLlI"}},24:function(e,t,a){e.exports={userPhoto:"users_userPhoto__bL0S7",preloader:"users_preloader__Xn2Vp",users:"users_users__3WMxe",follow:"users_follow__3JyNL",user:"users_user__1JUP5"}},241:function(e,t,a){},28:function(e,t,a){e.exports={item:"Post_item__14JiU",postLike:"Post_postLike__359ee",like:"Post_like__24bn9",postImgMess:"Post_postImgMess__5cmVp",wrapperPost:"Post_wrapperPost__35Sv-",btnRemove:"Post_btnRemove__2JxP0"}},284:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),s=(a(152),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,287)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),r(e),n(e),s(e),c(e)}))}),c=a(11),o=a(10),i=a.n(o),l=a(13),u=a(39),d=a(3),j=a(120),b=a.n(j).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"1be3afd1-cb12-4713-953a-273c84cfad9b"}}),p={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return b.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},unfollow:function(e){return b.delete("follow/".concat(e))},follow:function(e){return b.post("follow/".concat(e))},getProfile:function(e){return console.warn("Obsolete method. Please profileAPI object"),f.getProfile(e)}},f={getProfile:function(e){return b.get("profile/"+e)},getStatus:function(e){return b.get("/profile/status/".concat(e))},updateStatus:function(e){return b.put("/profile/status",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),b.put("/profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},saveProfile:function(e){return b.put("profile",e)}},m=function(){return b.get("auth/me")},h=function(e,t,a,r){return b.post("auth/login",{email:e,password:t,rememberMe:a,captcha:r})},O=function(){return b.delete("auth/login")},g=function(){return b.get("security/get-captcha-url")},x=a(19),v=a(286),_={posts:[{id:Object(v.a)(),message:"Hi,how are you",likesCount:0},{id:Object(v.a)(),message:"Hi, you",likesCount:0},{id:Object(v.a)(),message:"Hi,how are you",likesCount:1},{id:Object(v.a)(),message:"how are you",likesCount:0}],newPostText:"it-kamas",profile:null,status:""},P=function(e){return{type:"SET-STATUS",payload:{status:e}}},y=function(e){return function(){var t=Object(l.a)(i.a.mark((function t(a){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.getProfile(e);case 2:r=t.sent,a({type:"SET-USER-PROFILE",profile:r.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(l.a)(i.a.mark((function t(a){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.getStatus(e);case 2:r=t.sent,a(P(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(l.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.updateStatus(e);case 2:0===t.sent.data.resultCode&&a(P(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},N=function(e){return function(){var t=Object(l.a)(i.a.mark((function t(a){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.savePhoto(e);case 2:0===(r=t.sent).data.resultCode&&a({type:"SAVE-PHOTO-SUCCESS",photos:r.data.data.photos});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(l.a)(i.a.mark((function t(a,r){var n,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r().auth.id,t.next=3,f.saveProfile(e);case 3:if(0!==(s=t.sent).data.resultCode){t.next=8;break}a(y(n)),t.next=10;break;case 8:return a(Object(x.b)("edit-profile",{_error:s.data.messages[0]})),t.abrupt("return",Promise.reject(s.data.messages[0]));case 10:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},I="SEND-MESSAGE",T={dialogs:[{id:1,name:"Slava"},{id:2,name:"Borya"},{id:3,name:"Igor"},{id:4,name:"Viktor"}],messages:[{id:1,message:"Hi Kaktus"},{id:2,message:"Hi klaus"},{id:3,message:"Hi Valeron"},{id:4,message:"Hi hello"},{id:5,message:"Hi you"}],newMessageBody:""},k=a.p+"static/media/message.12d18ecd.svg",C=a.p+"static/media/user.31fa5e24.svg",L=a.p+"static/media/settings.647468af.svg",A=a.p+"static/media/music.c6291929.svg",F=a.p+"static/media/USERS.45762d61.svg",U="NAV-BAR",M={routes:[{path:"/",title:"Profile",image:C},{path:"/dialogs",title:"Message",image:k},{path:"/music",title:"Music",image:A},{path:"/settings",title:"Settings",image:L},{path:"/users",title:"Users",image:F}]},B=function(e,t,a){return e.map((function(e){return e.id===t?Object(d.a)(Object(d.a)({},e),a):e}))},R={users:[],pageSize:10,totalUsersCount:20,currentPage:1,isFetching:!0,followingInProgress:[]},D=function(e){return{type:"users/FOLLOW",payload:{userId:e}}},H=function(e){return{type:"users/UNFOLLOW",payload:{userId:e}}},G=function(e){return{type:"users/SET-CURRENT-PAGE",payload:{currentPage:e}}},z=function(e){return{type:"users/TOGGLE-IS-FETCHING",payload:{isFetching:e}}},W=function(e,t){return{type:"users/TOGGLE-IS-FOLLOWING-PROGRESS",payload:{isFetching:e,userId:t}}},J=function(e,t){return function(){var a=Object(l.a)(i.a.mark((function a(r){var n;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r(z(!0)),r(G(e)),a.next=4,p.getUsers(e,t);case 4:n=a.sent,r(z(!1)),r({type:"users/SET-USER",payload:{users:n.items}}),r({type:"users/SET-USERS-TOTAL-COUNT",payload:{totalCount:n.totalCount}});case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},V=function(){var e=Object(l.a)(i.a.mark((function e(t,a,r,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(W(!0,a)),e.next=3,r(a);case 3:0===e.sent.data.resultCode&&(console.log("if"),t(n(a))),t(W(!1,a));case 6:case"end":return e.stop()}}),e)})));return function(t,a,r,n){return e.apply(this,arguments)}}(),q=function(e){return function(){var t=Object(l.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:V(a,e,p.follow.bind(p),D);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Y=function(e){return function(){var t=Object(l.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:V(a,e,p.unfollow.bind(p),H);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Q={id:void 0,email:null,login:null,isAuth:!1,captchaUrl:null},Z=function(e,t,a,r){return{type:"auth/SET-USER-DATA",payload:{id:e,email:t,login:a,isAuth:r}}},X=function(e){return{type:"GET-CAPTCHA-URL",payload:{captchaUrl:e}}},K=function(){return function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r,n,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:0===(a=e.sent).data.resultCode&&(r=a.data.data,n=r.id,s=r.email,c=r.login,t(Z(n,s,c,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},$=function(){return function(){var e=Object(l.a)(i.a.mark((function e(t){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g();case 3:a=e.sent,r=a.data.url,t(X(r)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error getting captcha image url. ".concat(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},ee=a(122),te=a(119),ae={initialized:!1},re=Object(c.c)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":return Object(d.a)(Object(d.a)({},e),{},{posts:[].concat(Object(u.a)(e.posts),[{id:Object(v.a)(),message:t.newPostBody,likesCount:0}]),newPostText:""});case"SET-USER-PROFILE":return Object(d.a)(Object(d.a)({},e),{},{profile:t.profile});case"SET-STATUS":return Object(d.a)(Object(d.a)({},e),{},{status:t.payload.status});case"DELETE-POST":return Object(d.a)(Object(d.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.payload.postId}))});case"SAVE-PHOTO-SUCCESS":return Object(d.a)(Object(d.a)({},e),{},{profile:Object(d.a)(Object(d.a)({},e.profile),{},{photos:t.photos})});case"UPDATE-LIKES-COUNTER":return Object(d.a)(Object(d.a)({},e),{},{posts:e.posts.map((function(e){return e.id===t.payload.id?Object(d.a)(Object(d.a)({},e),{},{likesCount:t.payload.likesCounter}):e}))});default:return e}},dialogsPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:var a=t.newMessageBody;return Object(d.a)(Object(d.a)({},e),{},{messages:[].concat(Object(u.a)(e.messages),[{id:5,message:a}])});default:return e}},navbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:default:return e}},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"users/FOLLOW":return Object(d.a)(Object(d.a)({},e),{},{users:B(e.users,t.payload.userId,{followed:!0})});case"users/UNFOLLOW":return Object(d.a)(Object(d.a)({},e),{},{users:B(e.users,t.payload.userId,{followed:!1})});case"users/SET-USER":return Object(d.a)(Object(d.a)({},e),{},{users:t.payload.users});case"users/SET-CURRENT-PAGE":return Object(d.a)(Object(d.a)({},e),{},{currentPage:t.payload.currentPage});case"users/SET-USERS-TOTAL-COUNT":return Object(d.a)(Object(d.a)({},e),{},{totalUsersCount:t.payload.totalCount});case"users/TOGGLE-IS-FETCHING":return Object(d.a)(Object(d.a)({},e),{},{isFetching:t.payload.isFetching});case"users/TOGGLE-IS-FOLLOWING-PROGRESS":return Object(d.a)(Object(d.a)({},e),{},{followingInProgress:t.payload.isFetching?[].concat(Object(u.a)(e.followingInProgress),[t.payload.userId]):e.followingInProgress.filter((function(e){return e!=t.payload.userId}))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/SET-USER-DATA":case"GET-CAPTCHA-URL":return Object(d.a)(Object(d.a)({},e),t.payload);default:return e}},form:te.a,app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED-SUCCESS":return Object(d.a)(Object(d.a)({},e),{},{initialized:!0});default:return e}}}),ne=Object(c.d)(re,Object(c.a)(ee.a)),se=a(66),ce=a.n(se),oe=a(8),ie=(a(241),a(20)),le=a(6),ue=a(54),de=a(16),je=a(42),be=a.n(je),pe=a(0),fe=function(e){for(var t=e.totalUsersCount,a=e.pageSize,n=e.currentPage,s=e.onPageChanged,c=e.portionSize,o=void 0===c?10:c,i=Math.ceil(t/a),l=[],u=1;u<=i;u++)l.push(u);var d=Math.ceil(i/o),j=Object(r.useState)(1),b=Object(de.a)(j,2),p=b[0],f=b[1],m=(p-1)*o+1,h=p*o;return Object(pe.jsxs)("div",{className:be.a.paginator,children:[p>1&&Object(pe.jsx)("button",{className:be.a.btnNextPrev,onClick:function(){f(p-1)},children:"PREV"}),l.filter((function(e){return e>=m&&e<=h})).map((function(e){return Object(pe.jsx)("span",{className:"".concat(be.a.pageNumber," ").concat(n===e?be.a.active:""),onClick:function(t){s(e)},children:e},e)})),d>p&&Object(pe.jsx)("button",{className:be.a.btnNextPrev,onClick:function(){f(p+1)},children:"NEXT"})]})},me=a(24),he=a.n(me),Oe=a.p+"static/media/risuem-chelovek-rebenku-14.e9b2c5f4.jpg",ge=function(e){var t=e.user,a=e.followingInProgress,r=Object(oe.c)();return Object(pe.jsxs)("div",{className:he.a.user,children:[Object(pe.jsxs)("div",{children:[Object(pe.jsx)("div",{children:Object(pe.jsx)(ie.b,{to:"/profile/"+t.id,children:Object(pe.jsx)("img",{className:he.a.userPhoto,src:null!==t.photos.small?t.photos.small:Oe,alt:"avatar"})})}),Object(pe.jsx)("div",{children:t.followed?Object(pe.jsx)("button",{className:he.a.follow,disabled:a.some((function(e){return e===t.id})),onClick:function(){var e;e=t.id,r(Y(e))},children:"Unfollow"}):Object(pe.jsx)("button",{className:he.a.follow,disabled:a.some((function(e){return e===t.id})),onClick:function(){var e;e=t.id,r(q(e))},children:"Follow"})})]}),Object(pe.jsx)("div",{children:t.name})]})},xe=function(e){var t=e.onPageChanged,a=e.users,r=e.totalUsersCount,n=e.pageSize,s=e.currentPage,c=Object(ue.a)(e,["onPageChanged","users","totalUsersCount","pageSize","currentPage"]);return Object(pe.jsxs)("div",{children:[Object(pe.jsx)("div",{children:Object(pe.jsx)(fe,{onPageChanged:t,totalUsersCount:r,pageSize:n,currentPage:s})}),Object(pe.jsx)("div",{className:he.a.users,children:a.map((function(e){return Object(pe.jsx)(ge,{user:e,followingInProgress:c.followingInProgress},e.id)}))})]})},ve=a.p+"static/media/preloader.8c009b4e.svg",_e=function(){return Object(pe.jsx)("img",{className:he.a.preloader,src:ve,alt:"loader"})},Pe=function(e){return e.auth},ye=function(e){return e.dialogsPage},we=function(e){return e.app},Se=function(e){return e.profilePage},Ne=function(e){return e.usersPage},Ee=function(e){return e.navbar},Ie=oe.d,Te=function(){var e=Object(oe.c)(),t=Ie(Ne),a=t.currentPage,n=t.pageSize,s=t.isFetching,c=t.totalUsersCount,o=t.users,i=t.followingInProgress;Object(r.useEffect)((function(){e(J(a,n))}),[]);return Object(pe.jsx)("div",{children:Object(pe.jsxs)(pe.Fragment,{children:[s&&Object(pe.jsx)(_e,{}),Object(pe.jsx)(xe,{totalUsersCount:c,pageSize:n,currentPage:a,onPageChanged:function(t){e(J(t,n))},users:o,unfollow:Y,follow:q,followingInProgress:i})]})})},ke=a(117),Ce=a(118),Le=a(41),Ae=a.n(Le),Fe=function(e){e.input;var t=e.meta,a=t.touched,r=t.error,n=e.children,s=a&&r;return Object(pe.jsxs)("div",{className:Ae.a.formControl+" "+(s?Ae.a.error:""),children:[Object(pe.jsx)("div",{children:n}),s&&Object(pe.jsx)("span",{children:r})]})},Ue=function(e){var t=e.input,a=(e.meta,e.child,e.element,Object(ue.a)(e,["input","meta","child","element"]));return Object(pe.jsxs)(Fe,Object(d.a)(Object(d.a)({},e),{},{children:[" ",Object(pe.jsx)("textarea",Object(d.a)(Object(d.a)({},t),a))," "]}))},Me=function(e){var t=e.input,a=(e.meta,e.child,e.element,Object(ue.a)(e,["input","meta","child","element"]));return Object(pe.jsxs)(Fe,Object(d.a)(Object(d.a)({},e),{},{children:[" ",Object(pe.jsx)("input",Object(d.a)(Object(d.a)({},t),a))," "]}))};function Be(e,t,a,r){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return Object(pe.jsxs)("div",{children:[Object(pe.jsx)(ke.a,Object(d.a)({placeholder:e,name:t,validate:a,component:r},n))," ",s]})}var Re,De=function(e){return e?void 0:"Field is required"},He=function(e){return function(t){return t&&t.length>e?"Max length is ".concat(e," symbols"):void 0}},Ge=a.p+"static/media/login-svgrepo-com.3eeaed9b.svg",ze=a(18),We=a.n(ze),Je=Object(Ce.a)({form:"login"})((function(e){var t=e.error,a=e.captchaUrl;return Object(pe.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(pe.jsx)("div",{children:Object(pe.jsx)(ke.a,{validate:[De],component:Me,className:We.a.input,name:"email",placeholder:"Email"})}),Object(pe.jsx)("div",{children:Object(pe.jsx)(ke.a,{validate:[De],component:Me,className:We.a.input,name:"password",placeholder:"Password",type:"password"})}),Object(pe.jsxs)("label",{className:We.a.label,children:["remember me",Object(pe.jsx)(ke.a,{component:Me,className:We.a.inputCheckbox,name:"rememberMe",type:"checkbox"})]}),a&&Object(pe.jsx)("img",{src:a,alt:"captchaUrl"}),a&&Be("Symbols from image","captcha",[De],Me,{}),t&&Object(pe.jsx)("div",{style:{color:"red"},children:t}),Object(pe.jsx)("div",{children:Object(pe.jsx)("button",{className:We.a.btnLogin,children:"Login"})})]})})),Ve=function(){var e=Object(oe.c)(),t=Ie(Pe),a=t.captchaUrl;return t.isAuth?Object(pe.jsx)(le.a,{to:"/"}):Object(pe.jsxs)("div",{children:[Object(pe.jsxs)("div",{className:We.a.loginHeader,children:[Object(pe.jsx)("img",{className:We.a.loginImg,src:Ge,alt:"img"})," ",Object(pe.jsx)("h2",{children:"Login"})]}),Object(pe.jsxs)("h3",{className:We.a.subTitle,children:["To log in get registered ",Object(pe.jsx)("a",{className:We.a.link,href:"https://social-network.samuraijs.com/login",children:"here"})," or use common test account credentials:"]}),Object(pe.jsxs)("p",{className:We.a.text,children:["Email:",Object(pe.jsx)("span",{className:We.a.decor,children:"  free@samuraijs.com"})]}),Object(pe.jsxs)("p",{className:We.a.text,children:["Password:",Object(pe.jsx)("span",{className:We.a.decor,children:" free"})]}),Object(pe.jsx)(Je,{onSubmit:function(t){var a,r,n,s;e((a=t.email,r=t.password,n=t.rememberMe,s=t.captcha,function(){var e=Object(l.a)(i.a.mark((function e(t){var c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h(a,r,n,s);case 3:if(0!==(c=e.sent).data.resultCode){e.next=9;break}return e.next=7,t(K());case 7:e.next=16;break;case 9:if(10!==c.data.resultCode){e.next=14;break}return e.next=12,t($());case 12:e.next=16;break;case 14:o=c.data.messages.length>0?c.data.messages[0]:"Some error. Please reload page",t(Object(x.b)("login",{_error:o}));case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.log("Error login. ".concat(e.t0));case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t){return e.apply(this,arguments)}}()))},captchaUrl:a})]})},qe=a(14),Ye=a.n(qe),Qe=function(e){var t=Object(r.useState)(!0),a=Object(de.a)(t,2),n=a[0],s=a[1],c=Object(r.useState)(e.status),o=Object(de.a)(c,2),i=o[0],l=o[1];return Object(r.useEffect)((function(){l(i)}),[e.status]),Object(pe.jsx)(pe.Fragment,{children:n?Object(pe.jsxs)("div",{children:[Object(pe.jsx)("span",{className:Ye.a.status,children:"Status: "})," ",Object(pe.jsxs)("span",{className:Ye.a.statusEdit,onDoubleClick:function(){return s(!1)},children:[i||"-------",Object(pe.jsx)("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",version:"1.1",viewBox:"0 0 16 16",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:Object(pe.jsx)("path",{d:"M6 10l2-1 7-7-1-1-7 7-1 2zM4.52 13.548c-0.494-1.043-1.026-1.574-2.069-2.069l1.548-4.262 2-1.217 6-6h-3l-6 6-3 10 10-3 6-6v-3l-6 6-1.217 2z"})})]})]}):Object(pe.jsx)("div",{children:Object(pe.jsx)("input",{onChange:function(e){return l(e.currentTarget.value)},autoFocus:!0,onBlur:function(){s(!0),e.updateStatus(i)},value:i})})})},Ze=Object(Ce.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,a=e.profile,r=e.error;return Object(pe.jsx)("div",{children:Object(pe.jsxs)("form",{onSubmit:t,children:[Object(pe.jsx)("div",{children:Object(pe.jsx)("button",{children:"save"})}),r&&Object(pe.jsx)("div",{className:Ae.a.formSummaryError,children:r}),Object(pe.jsxs)("div",{children:[Object(pe.jsx)("b",{children:"Full name"}),": ",Be("Full name","fullName",[],Me)]}),Object(pe.jsxs)("div",{children:[Object(pe.jsx)("b",{children:"Looking for a job"}),Be("","lookingForAJob",[],Me,{type:"checkbox"})]}),Object(pe.jsxs)("div",{children:[Object(pe.jsx)("b",{children:"My professional skills"}),":",Be("My professional skills","lookingForAJobDescription",[],Ue)]}),Object(pe.jsxs)("div",{children:[Object(pe.jsx)("b",{children:"About me"}),":",Be("About me","aboutMe",[],Ue)]}),Object(pe.jsxs)("div",{children:[Object(pe.jsx)("b",{children:"Contacts"}),": ",Object.keys(null===a||void 0===a?void 0:a.contacts).map((function(e){return Object(pe.jsx)("div",{className:Ae.a.contacts,children:Object(pe.jsx)("div",{children:Object(pe.jsxs)("b",{children:[e,": ",Be(e,"contacts."+e,[],Me)]})},e)})}))]})]})})})),Xe=function(e){var t=Object(oe.c)(),a=Ie(Pe).id,n=Object(r.useState)(!1),s=Object(de.a)(n,2),c=s[0],o=s[1],i=e.profile,l=e.updateStatus,u=e.status,d=e.savePhoto,j=e.saveProfile,b=e.userId;if(!i)return Object(pe.jsx)(_e,{});return console.log(),Object(pe.jsx)("div",{children:Object(pe.jsxs)("div",{className:Ye.a.avatar,children:[Object(pe.jsxs)("div",{className:Ye.a.profileImgBtn,children:[Object(pe.jsx)("img",{src:i.photos.large||Oe,className:Ye.a.userPhoto,alt:"avatar"}),!b&&Object(pe.jsx)("button",{className:Ye.a.btnEdit,onClick:function(){o(!c)},children:"Edit"}),a===b&&Object(pe.jsxs)("label",{className:Ye.a.profileLoad,children:[" Load avatar",Object(pe.jsx)("input",{type:"file",onChange:function(e){e.currentTarget.files&&e.currentTarget.files.length&&t(d(e.currentTarget.files[0]))}})]})]}),Object(pe.jsxs)("div",{className:Ye.a.contacts,children:[Object(pe.jsx)("h4",{className:Ye.a.profileInform,children:"User Information"}),Object(pe.jsx)(Qe,{status:u,updateStatus:l}),Object(pe.jsx)("div",{children:c?Object(pe.jsx)(Ze,{initialValues:i,profile:i,onSubmit:function(e){t(j(e)),o(!1)}}):Object(pe.jsx)($e,{profile:i,goToEditMode:function(){o(!0)}})})]})]})})},Ke=function(e){var t=e.contactTitle,a=e.contactValue;return Object(pe.jsxs)("div",{children:[Object(pe.jsx)("span",{className:Ye.a.des,children:t})," ",a]})},$e=function(e){var t=e.profile,a=e.isOwner,r=e.goToEditMode;return Object(pe.jsxs)("div",{children:[a&&Object(pe.jsx)("div",{children:Object(pe.jsx)("button",{onClick:r,children:"edit"})}),Object(pe.jsxs)("div",{children:[Object(pe.jsx)("span",{className:Ye.a.descr,children:"Full name"})," ",t.fullName]}),Object(pe.jsxs)("div",{children:[Object(pe.jsx)("span",{className:Ye.a.descr,children:"Looking for a job"})," ",t.lookingForAJob?"yes":"no"]}),t.lookingForAJob&&Object(pe.jsxs)("div",{children:[Object(pe.jsx)("b",{children:"My professional skills"}),": ",t.lookingForAJobDescription]}),Object(pe.jsxs)("div",{children:[Object(pe.jsx)("span",{className:Ye.a.descr,children:"About me"})," ",t.aboutMe]}),Object(pe.jsxs)("div",{children:[Object(pe.jsx)("span",{className:Ye.a.descr,children:"Contacts: "})," ",Object.keys(t.contacts).map((function(e){return Object(pe.jsx)("div",{children:null!==t.contacts[e]&&Object(pe.jsx)(Ke,{contactTitle:e,contactValue:t.contacts[e]})},e)}))]})]})},et=a(43),tt=a.n(et),at=a(28),rt=a.n(at),nt=a.p+"static/media/user-profile-svgrepo-com (1).97ad7b1e.svg",st=a.p+"static/media/like.9895b6a3.svg",ct=a.p+"static/media/like-red.d7f1e57c.svg",ot=function(e){var t=e.message,a=e.likesCount,r=e.id,n=Object(oe.c)(),s=function(){n(function(e,t){return{type:"UPDATE-LIKES-COUNTER",payload:{id:e,likesCounter:t}}}(r,a+1))};return Object(pe.jsxs)("div",{className:rt.a.wrapperPost,children:[Object(pe.jsxs)("div",{className:rt.a.item,children:[Object(pe.jsxs)("div",{className:rt.a.postImgMess,children:[Object(pe.jsx)("img",{src:nt,alt:"logo"}),Object(pe.jsx)("span",{children:t})]}),Object(pe.jsx)("div",{className:rt.a.postLike,children:Object(pe.jsxs)("span",{children:[a>0?Object(pe.jsx)("img",{onClick:s,className:rt.a.like,src:ct,alt:"like"}):Object(pe.jsx)("img",{onClick:s,className:rt.a.like,src:st,alt:"like"}),a]})})]}),Object(pe.jsx)("button",{onClick:function(){n({type:"DELETE-POST",payload:{postId:r}})},className:rt.a.btnRemove,children:"remove"})]})},it=n.a.memo((function(){var e=Object(oe.c)(),t=Ie(Se).posts.map((function(e){var t=e.id,a=e.message,r=e.likesCount;return Object(pe.jsx)(n.a.Fragment,{children:Object(pe.jsx)(ot,{message:a,likesCount:r,id:t},t)})}));return Object(pe.jsxs)("div",{className:tt.a.myposts,children:[Object(pe.jsx)("h3",{className:tt.a.postTitle,children:"My Posts"}),Object(pe.jsx)(ut,{onSubmit:function(t){e({type:"ADD-POST",newPostBody:t.newPostBody}),e(Object(x.a)("myPostAddPostForm"))}}),Object(pe.jsx)("div",{className:tt.a.posts,children:t})]})})),lt=He(10),ut=Object(Ce.a)({form:"myPostAddPostForm"})((function(e){return Object(pe.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(pe.jsx)("div",{children:Object(pe.jsx)(ke.a,{className:tt.a.postTextarea,component:Ue,name:"newPostBody",placeholder:"Enter your post",validate:[De,lt]})}),Object(pe.jsx)("button",{className:tt.a.btnPost,children:"Add post"})]})})),dt=function(e){var t=e.profile,a=e.status,r=e.updateStatus,n=e.savePhoto,s=e.saveProfile,c=e.isAuth,o=e.userId;return c?Object(pe.jsxs)("div",{children:[Object(pe.jsx)(Xe,{userId:o,profile:t,status:a,updateStatus:r,savePhoto:n,saveProfile:s}),!o&&Object(pe.jsx)(it,{})]}):Object(pe.jsx)(le.a,{to:"/login"})},jt=function(){var e=Object(oe.c)(),t=Object(le.h)().userId,a=Ie(Pe).isAuth,n=Ie(Se),s=n.profile,c=n.status;return console.log(t),Object(r.useEffect)((function(){t&&(e(y(+t)),e(w(+t)))}),[]),Object(pe.jsx)("div",{children:Object(pe.jsx)(dt,{userId:t,isAuth:a,profile:s,status:c,updateStatus:S,savePhoto:N,saveProfile:E})})},bt=a(33),pt=a.n(bt),ft=function(e){var t=e.dialog;return Object(pe.jsx)("div",{className:pt.a.dialog,children:t})},mt=a(88),ht=a.n(mt),Ot=He(50),gt=a.p+"static/media/man-user-svgrepo-com.af76aa5a.svg",xt=function(){var e=Ie(ye),t=e.dialogs,a=e.messages,r=Ie(Pe).isAuth,s=Object(oe.c)(),c=t.map((function(e){var t=e.id,a=e.name;return Object(pe.jsxs)("div",{className:pt.a.messageName,children:[Object(pe.jsx)("img",{src:gt,alt:"img"})," ",a]},t)})),o=a.map((function(e){var t=e.id,a=e.message;return Object(pe.jsx)(n.a.Fragment,{children:Object(pe.jsx)(ft,{dialog:a})},t)}));return r?Object(pe.jsxs)("div",{className:pt.a.dialogs,children:[Object(pe.jsx)("div",{className:pt.a.dialogsItems,children:c}),Object(pe.jsxs)("div",{className:pt.a.messages,children:[o,Object(pe.jsx)(vt,{onSubmit:function(e){var t;s((t=e.newMessageBody,{type:I,newMessageBody:t})),s(Object(x.a)("dialogAddMessageForm"))}})]})]}):Object(pe.jsx)(le.a,{to:"/login"})},vt=Object(Ce.a)({form:"dialogAddMessageForm"})((function(e){return Object(pe.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(pe.jsx)(ke.a,{className:ht.a.postTextarea,component:Ue,name:"newMessageBody",placeholder:"Enter your message",validate:[De,Ot]}),Object(pe.jsx)("div",{children:Object(pe.jsx)("button",{className:ht.a.btn,children:"Add message"})})]})})),_t=a(29),Pt=a.n(_t),yt=function(){var e=Ie(Se).profile,t=Object(oe.c)(),a=Ie(Pe),r=a.login,n=a.isAuth;return Object(pe.jsxs)("header",{className:Pt.a.header,children:[Object(pe.jsx)("h1",{className:Pt.a.header_title,children:"Social"}),Object(pe.jsxs)("div",{className:Pt.a.loginBlock,children:[Object(pe.jsx)("img",{src:(null===e||void 0===e?void 0:e.photos.large)||Oe,className:Pt.a.headerPhoto,alt:"avatar"}),n?Object(pe.jsxs)("div",{className:Pt.a.header_name_profile,children:[r," -",Object(pe.jsx)("button",{className:Pt.a.button_header,onClick:function(){t(function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:0===e.sent.data.resultCode&&t(Z(void 0,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Log out"})]}):Object(pe.jsx)(ie.b,{className:Pt.a.login,to:"/login",children:"Login"})]})]})},wt=function(){var e=Object(oe.c)(),t=Ie(Pe),a=t.isAuth,n=t.id,s=Ie(Se),c=s.profile,o=s.status,i=Object(le.h)().userId;return console.log(i,"userId"),Object(r.useEffect)((function(){n&&(e(y(+n)),e(w(+n)))}),[]),Object(pe.jsx)("div",{children:Object(pe.jsx)(dt,{userId:i,isAuth:a,profile:c,status:o,updateStatus:S,savePhoto:N,saveProfile:E})})},St=a(124),Nt=a.n(St),Et=a(55),It=a.n(Et),Tt=function(e){var t=e.path,a=e.image,r=e.title;return Object(pe.jsx)("div",{className:It.a.item,children:Object(pe.jsxs)(ie.b,{className:function(e){var t=e.isActive;return"".concat(It.a.item," ").concat(t?It.a.active:"")},to:t,children:[Object(pe.jsx)("img",{className:It.a.routesImg,src:a,alt:"img"})," ",r," "]})})},kt=function(){var e=Ie(Ee).routes;return Object(pe.jsx)("div",{className:Nt.a.nav,children:Object(pe.jsx)("nav",{children:e.map((function(e){var t=e.title,a=e.path,r=e.image;return Object(pe.jsx)(n.a.Fragment,{children:Object(pe.jsx)(Tt,{title:t,path:a,image:r})},a+t)}))})})},Ct=a(44),Lt=a.n(Ct),At=function(){return Object(pe.jsxs)("div",{className:Lt.a.container,children:[Object(pe.jsx)("div",{className:Lt.a.iframeWrapper,children:Object(pe.jsx)("iframe",{width:"100%",height:"100%",src:"https://www.youtube.com/embed/5qap5aO4i9A",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),Object(pe.jsx)("div",{className:Lt.a.iframeWrapper,children:Object(pe.jsx)("iframe",{width:"100%",height:"100%",src:"https://www.youtube.com/embed/3oHhEx7voLs",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),Object(pe.jsx)("div",{className:Lt.a.iframeWrapper,children:Object(pe.jsx)("iframe",{width:"100%",height:"100%",src:"https://www.youtube.com/embed/36YnV9STBqc",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),Object(pe.jsx)("div",{className:Lt.a.iframeWrapper,children:Object(pe.jsx)("iframe",{width:"100%",height:"100%",src:"https://www.youtube.com/embed/FZNyiWUPedA",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]})};!function(e){e.ME="/",e.PROFILE="/profile",e.DIALOGS="/dialogs",e.USERS="/users",e.MUSIC="/music",e.SETTINGS="/settings",e.LOGIN="/login",e.ERROR_404="404"}(Re||(Re={}));var Ft=a.p+"static/media/error.42292aa1.gif",Ut=a(125),Mt=a.n(Ut),Bt=function(){return Object(pe.jsxs)("div",{children:[Object(pe.jsx)("img",{src:Ft,alt:"err"}),Object(pe.jsx)("p",{className:Mt.a.errorText,children:"Page doesn't exist"})]})},Rt=function(){var e=Ie(we).initialized,t=Object(oe.c)();return Object(r.useEffect)((function(){t((function(e){e(K()).then((function(){e({type:"INITIALIZED-SUCCESS"})}))}))}),[]),e?Object(pe.jsx)(pe.Fragment,{children:Object(pe.jsxs)(ie.a,{children:[Object(pe.jsx)("div",{className:"app-wrapper-header",children:Object(pe.jsx)("div",{className:"container",children:Object(pe.jsx)("div",{children:Object(pe.jsx)(yt,{})})})}),Object(pe.jsx)("div",{className:"app-wrapper-content",children:Object(pe.jsx)("div",{className:"container",children:Object(pe.jsxs)("div",{className:"app-content",children:[Object(pe.jsx)(kt,{}),Object(pe.jsx)("div",{className:"app_profile",children:Object(pe.jsxs)(le.d,{children:[Object(pe.jsx)(le.b,{path:Re.ME,element:Object(pe.jsx)(wt,{})}),Object(pe.jsx)(le.b,{path:"".concat(Re.PROFILE,"/:userId"),element:Object(pe.jsx)(jt,{})}),Object(pe.jsx)(le.b,{path:Re.DIALOGS,element:Object(pe.jsx)(xt,{})}),Object(pe.jsx)(le.b,{path:Re.MUSIC,element:Object(pe.jsx)(At,{})}),Object(pe.jsx)(le.b,{path:Re.SETTINGS,element:Object(pe.jsx)("h2",{children:"Settings"})}),Object(pe.jsx)(le.b,{path:Re.USERS,element:Object(pe.jsx)(Te,{})}),Object(pe.jsx)(le.b,{path:Re.LOGIN,element:Object(pe.jsx)(Ve,{})}),Object(pe.jsx)(le.b,{path:"*",element:Object(pe.jsx)(Bt,{})})]})})]})})})]})}):Object(pe.jsx)(_e,{})};ce.a.render(Object(pe.jsx)(n.a.StrictMode,{children:Object(pe.jsx)(oe.a,{store:ne,children:Object(pe.jsx)(Rt,{})})}),document.getElementById("root")),s()},29:function(e,t,a){e.exports={header:"Header_header__3c_Tr",headerPhoto:"Header_headerPhoto__1_xWe",login:"Header_login__2UJt-",button_header:"Header_button_header__2sojS",header_name_profile:"Header_header_name_profile__uYz-S",loginBlock:"Header_loginBlock__1pyM0",header_title:"Header_header_title__i7FYP"}},33:function(e,t,a){e.exports={dialogs:"Dialogs_dialogs__I_CAQ",messages:"Dialogs_messages__3SXIq",messageName:"Dialogs_messageName__3IYM4",dialog:"Dialogs_dialog__3IWrH"}},41:function(e,t,a){e.exports={formControl:"FormsControls_formControl__2tkz-",error:"FormsControls_error__32ndD",formSummaryError:"FormsControls_formSummaryError__I9ycH"}},42:function(e,t,a){e.exports={selectedPage:"Paginator_selectedPage__boplF",paginator:"Paginator_paginator__2HqAd",pageNumber:"Paginator_pageNumber__paIuh",btnNextPrev:"Paginator_btnNextPrev__2H6F2"}},43:function(e,t,a){e.exports={myposts:"MyPosts_myposts__2twgh",posts:"MyPosts_posts__2G5MT",postTitle:"MyPosts_postTitle__3crZ8",postTextarea:"MyPosts_postTextarea__TwDnM",btnPost:"MyPosts_btnPost__1v2PL"}},44:function(e,t,a){e.exports={container:"Music_container__2zrw0",roundBorderTopLeft:"Music_roundBorderTopLeft__3t36b",roundBorderTopRight:"Music_roundBorderTopRight__15TNg",roundBorderBottomLeft:"Music_roundBorderBottomLeft__2lwpD",roundBorderBottomRight:"Music_roundBorderBottomRight__1bP3q",iframeWrapper:"Music_iframeWrapper__1ZUpn"}},55:function(e,t,a){e.exports={item:"StyledNavLink_item__3V37q",active:"StyledNavLink_active__2aPHU",routesImg:"StyledNavLink_routesImg__1Xqa4"}},88:function(e,t,a){e.exports={postTextarea:"Dialog_postTextarea__3sEaQ",btn:"Dialog_btn__1Eaqu"}}},[[284,1,2]]]);
//# sourceMappingURL=main.d038f7f8.chunk.js.map