(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[0],{120:function(e,t,n){e.exports={selectedPage:"Paginator_selectedPage__boplF"}},121:function(e,t,n){e.exports={nav:"Navbar_nav__1_ZQ8"}},14:function(e,t,n){e.exports={avatar:"ProfileInfo_avatar__3rmGo",profileImgBtn:"ProfileInfo_profileImgBtn__1THf9",contacts:"ProfileInfo_contacts__sn4XJ",userPhoto:"ProfileInfo_userPhoto__3gIt4",profileInform:"ProfileInfo_profileInform__76zXd",btnEdit:"ProfileInfo_btnEdit__3P_5S",profileLoad:"ProfileInfo_profileLoad__1fiQF",descr:"ProfileInfo_descr__12BED",status:"ProfileInfo_status__2f51D",des:"ProfileInfo_des__2QyFo",statusEdit:"ProfileInfo_statusEdit__Qgcwp"}},148:function(e,t,n){},237:function(e,t,n){},26:function(e,t,n){e.exports={formControl:"FormsControls_formControl__2tkz-",error:"FormsControls_error__32ndD",formSummaryError:"FormsControls_formSummaryError__I9ycH",contacts:"FormsControls_contacts__1gP_T"}},280:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),r=(n(148),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,283)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),s(e),a(e),r(e),c(e)}))}),c=n(11),o=n(10),i=n.n(o),u=n(13),l=n(36),d=n(3),j=n(116),b=n.n(j).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"1be3afd1-cb12-4713-953a-273c84cfad9b"}}),f={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return b.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},unfollow:function(e){return b.delete("follow/".concat(e))},follow:function(e){return b.post("follow/".concat(e))},getProfile:function(e){return console.warn("Obsolete method. Please profileAPI object"),p.getProfile(e)}},p={getProfile:function(e){return b.get("profile/"+e)},getStatus:function(e){return b.get("/profile/status/".concat(e))},updateStatus:function(e){return b.put("/profile/status",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),b.put("/profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},saveProfile:function(e){return b.put("profile",e)}},h=function(){return b.get("auth/me")},O=function(e,t,n,s){return b.post("auth/login",{email:e,password:t,rememberMe:n,captcha:s})},m=function(){return b.delete("auth/login")},g=function(){return b.get("security/get-captcha-url")},x=n(19),v=n(282),_={posts:[{id:Object(v.a)(),message:"Hi,how are you",likesCount:0},{id:Object(v.a)(),message:"Hi, you",likesCount:0},{id:Object(v.a)(),message:"Hi,how are you",likesCount:1},{id:Object(v.a)(),message:"how are you",likesCount:0}],newPostText:"it-kamas",profile:null,status:""},P=function(e){return{type:"SET-STATUS",payload:{status:e}}},y=function(e){return function(){var t=Object(u.a)(i.a.mark((function t(n){var s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.getProfile(e);case 2:s=t.sent,n({type:"SET-USER-PROFILE",profile:s.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(u.a)(i.a.mark((function t(n){var s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.getStatus(e);case 2:s=t.sent,n(P(s.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(u.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(P(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},k=function(e){return function(){var t=Object(u.a)(i.a.mark((function t(n){var s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.savePhoto(e);case 2:0===(s=t.sent).data.resultCode&&n({type:"SAVE-PHOTO-SUCCESS",photos:s.data.data.photos});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(u.a)(i.a.mark((function t(n,s){var a,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=s().auth.id,t.next=3,p.saveProfile(e);case 3:if(0!==(r=t.sent).data.resultCode){t.next=8;break}n(y(a)),t.next=10;break;case 8:return n(Object(x.a)("edit-profile",{_error:r.data.messages[0]})),t.abrupt("return",Promise.reject(r.data.messages[0]));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},C="SEND-MESSAGE",I={dialogs:[{id:1,name:"Slava"},{id:2,name:"Borya"},{id:3,name:"Igor"},{id:4,name:"Viktor"}],messages:[{id:1,message:"Hi Kaktus"},{id:2,message:"Hi klaus"},{id:3,message:"Hi Valeron"},{id:4,message:"Hi hello"},{id:5,message:"Hi you"}],newMessageBody:""},N=n.p+"static/media/message.12d18ecd.svg",T=n.p+"static/media/user.31fa5e24.svg",A=n.p+"static/media/news.b487f0cb.svg",F=n.p+"static/media/settings.647468af.svg",L=n.p+"static/media/music.c6291929.svg",U=n.p+"static/media/USERS.45762d61.svg",M="NAV-BAR",R={routes:[{path:"/",title:"Profile",image:T},{path:"/dialogs",title:"Message",image:N},{path:"/news",title:"News",image:A},{path:"/music",title:"Music",image:L},{path:"/settings",title:"Settings",image:F},{path:"/users",title:"Users",image:U}]},D=function(e,t,n){return e.map((function(e){return e.id===t?Object(d.a)(Object(d.a)({},e),n):e}))},H={users:[],pageSize:10,totalUsersCount:20,currentPage:1,isFetching:!0,followingInProgress:[]},B=function(e){return{type:"users/FOLLOW",payload:{userId:e}}},G=function(e){return{type:"users/UNFOLLOW",payload:{userId:e}}},z=function(e){return{type:"users/SET-CURRENT-PAGE",payload:{currentPage:e}}},V=function(e){return{type:"users/TOGGLE-IS-FETCHING",payload:{isFetching:e}}},J=function(e,t){return{type:"users/TOGGLE-IS-FOLLOWING-PROGRESS",payload:{isFetching:e,userId:t}}},W=function(e,t){return function(){var n=Object(u.a)(i.a.mark((function n(s){var a;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s(V(!0)),s(z(e)),n.next=4,f.getUsers(e,t);case 4:a=n.sent,s(V(!1)),s({type:"users/SET-USER",payload:{users:a.items}}),s({type:"users/SET-USERS-TOTAL-COUNT",payload:{totalCount:a.totalCount}});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},X=function(){var e=Object(u.a)(i.a.mark((function e(t,n,s,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(J(!0,n)),e.next=3,s(n);case 3:0===e.sent.data.resultCode&&(console.log("if"),t(a(n))),t(J(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,s,a){return e.apply(this,arguments)}}(),Q=function(e){return function(){var t=Object(u.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:X(n,e,f.follow.bind(f),B);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},q=function(e){return function(){var t=Object(u.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:X(n,e,f.unfollow.bind(f),G);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},K={id:null,email:null,login:null,isAuth:!1,captchaUrl:null},Z=function(e,t,n,s){return{type:"auth/SET-USER-DATA",payload:{id:e,email:t,login:n,isAuth:s}}},Y=function(e){return{type:"GET-CAPTCHA-URL",payload:{captchaUrl:e}}},$=function(){return function(){var e=Object(u.a)(i.a.mark((function e(t){var n,s,a,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:0===(n=e.sent).data.resultCode&&(s=n.data.data,a=s.id,r=s.email,c=s.login,t(Z(a,r,c,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ee=function(){return function(){var e=Object(u.a)(i.a.mark((function e(t){var n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g();case 3:n=e.sent,s=n.data.url,t(Y(s)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error getting captcha image url. ".concat(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},te=n(118),ne=n(115),se={initialized:!1},ae=Object(c.c)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":return Object(d.a)(Object(d.a)({},e),{},{posts:[].concat(Object(l.a)(e.posts),[{id:Object(v.a)(),message:t.newPostBody,likesCount:0}]),newPostText:""});case"SET-USER-PROFILE":return Object(d.a)(Object(d.a)({},e),{},{profile:t.profile});case"SET-STATUS":return Object(d.a)(Object(d.a)({},e),{},{status:t.payload.status});case"DELETE-POST":return Object(d.a)(Object(d.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.payload.postId}))});case"SAVE-PHOTO-SUCCESS":return Object(d.a)(Object(d.a)({},e),{},{profile:Object(d.a)(Object(d.a)({},e.profile),{},{photos:t.photos})});case"UPDATE-LIKES-COUNTER":return Object(d.a)(Object(d.a)({},e),{},{posts:e.posts.map((function(e){return e.id===t.payload.id?Object(d.a)(Object(d.a)({},e),{},{likesCount:t.payload.likesCounter}):e}))});default:return e}},dialogsPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:var n=t.newMessageBody;return Object(d.a)(Object(d.a)({},e),{},{messages:[].concat(Object(l.a)(e.messages),[{id:5,message:n}])});default:return e}},navbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:default:return e}},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"users/FOLLOW":return Object(d.a)(Object(d.a)({},e),{},{users:D(e.users,t.payload.userId,{followed:!0})});case"users/UNFOLLOW":return Object(d.a)(Object(d.a)({},e),{},{users:D(e.users,t.payload.userId,{followed:!1})});case"users/SET-USER":return Object(d.a)(Object(d.a)({},e),{},{users:t.payload.users});case"users/SET-CURRENT-PAGE":return Object(d.a)(Object(d.a)({},e),{},{currentPage:t.payload.currentPage});case"users/SET-USERS-TOTAL-COUNT":return Object(d.a)(Object(d.a)({},e),{},{totalUsersCount:t.payload.totalCount});case"users/TOGGLE-IS-FETCHING":return Object(d.a)(Object(d.a)({},e),{},{isFetching:t.payload.isFetching});case"users/TOGGLE-IS-FOLLOWING-PROGRESS":return Object(d.a)(Object(d.a)({},e),{},{followingInProgress:t.payload.isFetching?[].concat(Object(l.a)(e.followingInProgress),[t.payload.userId]):e.followingInProgress.filter((function(e){return e!=t.payload.userId}))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/SET-USER-DATA":case"GET-CAPTCHA-URL":return Object(d.a)(Object(d.a)({},e),t.payload);default:return e}},form:ne.a,app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED-SUCCESS":return Object(d.a)(Object(d.a)({},e),{},{initialized:!0});default:return e}}}),re=Object(c.d)(ae,Object(c.a)(te.a)),ce=n(62),oe=n.n(ce),ie=n(8),ue=(n(237),n(18)),le=n(6),de=n(50),je=n(16),be=n(120),fe=n.n(be),pe=n(0),he=function(e){for(var t=e.totalUsersCount,n=e.pageSize,a=e.currentPage,r=e.onPageChanged,c=e.portionSize,o=void 0===c?10:c,i=Math.ceil(t/n),u=[],l=1;l<=i;l++)u.push(l);var d=Math.ceil(i/o),j=Object(s.useState)(1),b=Object(je.a)(j,2),f=b[0],p=b[1],h=(f-1)*o+1,O=f*o;return Object(pe.jsxs)("div",{children:[f>1&&Object(pe.jsx)("button",{onClick:function(){p(f-1)},children:"PREV"}),u.filter((function(e){return e>=h&&e<=O})).map((function(e){return Object(pe.jsx)("span",{className:a===e?fe.a.active:"",onClick:function(t){r(e)},children:e},e)})),d>f&&Object(pe.jsx)("button",{onClick:function(){p(f+1)},children:"NEXT"})]})},Oe=n(64),me=n.n(Oe),ge=n.p+"static/media/risuem-chelovek-rebenku-14.e9b2c5f4.jpg",xe=function(e){var t=e.user,n=e.followingInProgress,s=Object(ie.c)();return Object(pe.jsx)("div",{children:Object(pe.jsxs)("div",{children:[Object(pe.jsxs)("span",{children:[Object(pe.jsx)("div",{children:Object(pe.jsx)(ue.b,{to:"/profile/"+t.id,children:Object(pe.jsx)("img",{className:me.a.userPhoto,src:null!==t.photos.small?t.photos.small:ge,alt:"avatar"})})}),Object(pe.jsx)("div",{children:t.followed?Object(pe.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){var e;e=t.id,s(q(e))},children:"Unfollow"}):Object(pe.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){var e;e=t.id,s(Q(e))},children:"Follow"})})]}),Object(pe.jsxs)("span",{children:[Object(pe.jsxs)("span",{children:[Object(pe.jsx)("div",{children:t.name}),Object(pe.jsx)("div",{children:t.status})]}),Object(pe.jsxs)("span",{children:[Object(pe.jsx)("div",{children:"u.location.country"}),Object(pe.jsx)("div",{children:"u.location.city"})]})]})]})})},ve=function(e){var t=e.onPageChanged,n=e.users,s=e.totalUsersCount,a=e.pageSize,r=e.currentPage,c=Object(de.a)(e,["onPageChanged","users","totalUsersCount","pageSize","currentPage"]);return Object(pe.jsxs)("div",{children:[Object(pe.jsx)(he,{onPageChanged:t,totalUsersCount:s,pageSize:a,currentPage:r}),Object(pe.jsx)("div",{children:n.map((function(e){return Object(pe.jsx)(xe,{user:e,followingInProgress:c.followingInProgress},e.id)}))})]})},_e=n.p+"static/media/preloader.8c009b4e.svg",Pe=function(){return Object(pe.jsx)("img",{className:me.a.preloader,src:_e})},ye=function(e){return e.auth},Se=function(e){return e.dialogsPage},we=function(e){return e.app},ke=function(e){return e.profilePage},Ee=function(e){return e.usersPage},Ce=function(e){return e.navbar},Ie=ie.d,Ne=function(){var e=Object(ie.c)(),t=Ie(Ee),n=t.currentPage,a=t.pageSize,r=t.isFetching,c=t.totalUsersCount,o=t.users,i=t.followingInProgress;Object(s.useEffect)((function(){e(W(n,a))}),[]);return Object(pe.jsx)("div",{children:Object(pe.jsxs)(pe.Fragment,{children:[r&&Object(pe.jsx)(Pe,{}),Object(pe.jsx)(ve,{totalUsersCount:c,pageSize:a,currentPage:n,onPageChanged:function(t){e(W(t,a))},users:o,unfollow:q,follow:Q,followingInProgress:i})]})})},Te=n(114),Ae=n(26),Fe=n.n(Ae),Le=n(113),Ue=function(e){e.input;var t=e.meta,n=t.touched,s=t.error,a=e.children,r=n&&s;return Object(pe.jsxs)("div",{className:Fe.a.formControl+" "+(r?Fe.a.error:""),children:[Object(pe.jsx)("div",{children:a}),r&&Object(pe.jsx)("span",{children:s})]})},Me=function(e){var t=e.input,n=(e.meta,e.child,e.element,Object(de.a)(e,["input","meta","child","element"]));return Object(pe.jsxs)(Ue,Object(d.a)(Object(d.a)({},e),{},{children:[" ",Object(pe.jsx)("textarea",Object(d.a)(Object(d.a)({},t),n))," "]}))},Re=function(e){var t=e.input,n=(e.meta,e.child,e.element,Object(de.a)(e,["input","meta","child","element"]));return Object(pe.jsxs)(Ue,Object(d.a)(Object(d.a)({},e),{},{children:[" ",Object(pe.jsx)("input",Object(d.a)(Object(d.a)({},t),n))," "]}))};function De(e,t,n,s){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return Object(pe.jsxs)("div",{children:[Object(pe.jsx)(Le.a,Object(d.a)({placeholder:e,name:t,validate:n,component:s},a))," ",r]})}var He=function(e){return e?void 0:"Field is required"},Be=function(e){return function(t){return t&&t.length>e?"Max length is ".concat(e," symbols"):void 0}},Ge=Object(Te.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error,s=e.captchaUrl;return Object(pe.jsxs)("form",{onSubmit:t,children:[De("Email","email",[He],Re),De("Password","password",[He],Re,{type:"password"}),De(void 0,"rememberMe",[],Re,{type:"checkbox"},"remember me"),s&&Object(pe.jsx)("img",{src:s}),s&&De("Symbols from image","captcha",[He],Re,{}),n&&Object(pe.jsx)("div",{className:Fe.a.formSummaryError,children:n}),Object(pe.jsx)("div",{children:Object(pe.jsx)("button",{children:"Login"})})]})})),ze=function(){var e=Object(ie.c)(),t=Ie(ye),n=t.captchaUrl;return t.isAuth?Object(pe.jsx)(le.a,{to:"/"}):Object(pe.jsxs)("div",{children:[Object(pe.jsx)("h1",{children:"Login"}),Object(pe.jsx)(Ge,{onSubmit:function(t){var n,s,a,r;e((n=t.email,s=t.password,a=t.rememberMe,r=t.captcha,function(){var e=Object(u.a)(i.a.mark((function e(t){var c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O(n,s,a,r);case 3:if(0!==(c=e.sent).data.resultCode){e.next=9;break}return e.next=7,t($());case 7:e.next=16;break;case 9:if(10!==c.data.resultCode){e.next=14;break}return e.next=12,t(ee());case 12:e.next=16;break;case 14:o=c.data.messages.length>0?c.data.messages[0]:"Some error. Please reload page",t(Object(x.a)("login",{_error:o}));case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.log("Error login. ".concat(e.t0));case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t){return e.apply(this,arguments)}}()))},captchaUrl:n})]})},Ve=n(14),Je=n.n(Ve),We=function(e){var t=Object(s.useState)(!0),n=Object(je.a)(t,2),a=n[0],r=n[1],c=Object(s.useState)(e.status),o=Object(je.a)(c,2),i=o[0],u=o[1];return Object(s.useEffect)((function(){u(i)}),[e.status]),Object(pe.jsx)(pe.Fragment,{children:a?Object(pe.jsxs)("div",{children:[Object(pe.jsx)("span",{className:Je.a.status,children:"Status: "})," ",Object(pe.jsxs)("span",{className:Je.a.statusEdit,onDoubleClick:function(){return r(!1)},children:[i||"-------"," ",Object(pe.jsx)("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",version:"1.1",viewBox:"0 0 16 16",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:Object(pe.jsx)("path",{d:"M6 10l2-1 7-7-1-1-7 7-1 2zM4.52 13.548c-0.494-1.043-1.026-1.574-2.069-2.069l1.548-4.262 2-1.217 6-6h-3l-6 6-3 10 10-3 6-6v-3l-6 6-1.217 2z"})})]})]}):Object(pe.jsx)("div",{children:Object(pe.jsx)("input",{onChange:function(e){return u(e.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!0),e.updateStatus(i)},value:i})})})},Xe=Object(Te.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,n=e.profile,s=e.error;return Object(pe.jsx)("div",{children:Object(pe.jsxs)("form",{onSubmit:t,children:[Object(pe.jsx)("div",{children:Object(pe.jsx)("button",{children:"save"})}),s&&Object(pe.jsx)("div",{className:Fe.a.formSummaryError,children:s}),Object(pe.jsxs)("div",{children:[Object(pe.jsx)("b",{children:"Full name"}),": ",De("Full name","fullName",[],Re)]}),Object(pe.jsxs)("div",{children:[Object(pe.jsx)("b",{children:"Looking for a job"}),De("","lookingForAJob",[],Re,{type:"checkbox"})]}),Object(pe.jsxs)("div",{children:[Object(pe.jsx)("b",{children:"My professional skills"}),":",De("My professional skills","lookingForAJobDescription",[],Me)]}),Object(pe.jsxs)("div",{children:[Object(pe.jsx)("b",{children:"About me"}),":",De("About me","aboutMe",[],Me)]}),Object(pe.jsxs)("div",{children:[Object(pe.jsx)("b",{children:"Contacts"}),": ",Object.keys(null===n||void 0===n?void 0:n.contacts).map((function(e){return Object(pe.jsx)("div",{className:Fe.a.contacts,children:Object(pe.jsx)("div",{children:Object(pe.jsxs)("b",{children:[e,": ",De(e,"contacts."+e,[],Re)]})},e)})}))]})]})})})),Qe=function(e){var t=Object(ie.c)(),n=Object(s.useState)(!1),a=Object(je.a)(n,2),r=a[0],c=a[1],o=e.profile,i=e.updateStatus,u=e.status,l=e.savePhoto,d=e.saveProfile,j=e.userId;if(!o)return Object(pe.jsx)(Pe,{});return console.log(),Object(pe.jsx)("div",{children:Object(pe.jsxs)("div",{className:Je.a.avatar,children:[Object(pe.jsxs)("div",{className:Je.a.profileImgBtn,children:[Object(pe.jsx)("img",{src:o.photos.large||ge,className:Je.a.userPhoto,alt:"avatar"}),!j&&Object(pe.jsx)("button",{className:Je.a.btnEdit,onClick:function(){c(!r)},children:"Edit"}),Object(pe.jsxs)("label",{className:Je.a.profileLoad,children:[" Load avatar",Object(pe.jsx)("input",{type:"file",onChange:function(e){e.currentTarget.files&&e.currentTarget.files.length&&t(l(e.currentTarget.files[0]))}})]})]}),Object(pe.jsxs)("div",{className:Je.a.contacts,children:[Object(pe.jsx)("h4",{className:Je.a.profileInform,children:"User Information"}),Object(pe.jsx)(We,{status:u,updateStatus:i}),Object(pe.jsx)("div",{children:r?Object(pe.jsx)(Xe,{initialValues:o,profile:o,onSubmit:function(e){t(d(e)),c(!1)}}):Object(pe.jsx)(Ke,{profile:o,goToEditMode:function(){c(!0)}})})]})]})})},qe=function(e){var t=e.contactTitle,n=e.contactValue;return Object(pe.jsxs)("div",{children:[Object(pe.jsx)("span",{className:Je.a.des,children:t}),"  ",n]})},Ke=function(e){var t=e.profile,n=e.isOwner,s=e.goToEditMode;return Object(pe.jsxs)("div",{children:[n&&Object(pe.jsx)("div",{children:Object(pe.jsx)("button",{onClick:s,children:"edit"})}),Object(pe.jsxs)("div",{children:[Object(pe.jsx)("span",{className:Je.a.descr,children:"Full name"})," ",t.fullName]}),Object(pe.jsxs)("div",{children:[Object(pe.jsx)("span",{className:Je.a.descr,children:"Looking for a job"})," ",t.lookingForAJob?"yes":"no"]}),t.lookingForAJob&&Object(pe.jsxs)("div",{children:[Object(pe.jsx)("b",{children:"My professional skills"}),": ",t.lookingForAJobDescription]}),Object(pe.jsxs)("div",{children:[Object(pe.jsx)("span",{className:Je.a.descr,children:"About me"})," ",t.aboutMe]}),Object(pe.jsxs)("div",{children:[Object(pe.jsx)("span",{className:Je.a.descr,children:"Contacts: "})," ",Object.keys(t.contacts).map((function(e){return Object(pe.jsx)("div",{children:null!==t.contacts[e]&&Object(pe.jsx)(qe,{contactTitle:e,contactValue:t.contacts[e]})},e)}))]})]})},Ze=n(39),Ye=n.n(Ze),$e=n(40),et=n.n($e),tt=n.p+"static/media/user-profile-svgrepo-com (1).97ad7b1e.svg",nt=n.p+"static/media/like.9895b6a3.svg",st=n.p+"static/media/like-red.d7f1e57c.svg",at=function(e){var t=e.message,n=e.likesCount,s=e.id,a=Object(ie.c)(),r=function(){a(function(e,t){return{type:"UPDATE-LIKES-COUNTER",payload:{id:e,likesCounter:t}}}(s,n+1))};return Object(pe.jsx)("div",{children:Object(pe.jsxs)("div",{className:et.a.item,children:[Object(pe.jsxs)("div",{className:et.a.postImgMess,children:[Object(pe.jsx)("img",{src:tt,alt:"logo"}),Object(pe.jsx)("span",{children:t})]}),Object(pe.jsx)("div",{className:et.a.postLike,children:Object(pe.jsxs)("span",{children:[n>0?Object(pe.jsx)("img",{onClick:r,className:et.a.like,src:st,alt:"like"}):Object(pe.jsx)("img",{onClick:r,className:et.a.like,src:nt,alt:"like"}),n]})})]})})},rt=a.a.memo((function(){var e=Object(ie.c)(),t=Ie(ke).posts.map((function(e){var t=e.id,n=e.message,s=e.likesCount;return Object(pe.jsx)(a.a.Fragment,{children:Object(pe.jsx)(at,{message:n,likesCount:s,id:t},t)})}));return Object(pe.jsxs)("div",{className:Ye.a.myposts,children:[Object(pe.jsx)("h3",{className:Ye.a.postTitle,children:"My Posts"}),Object(pe.jsx)(ot,{onSubmit:function(t){e({type:"ADD-POST",newPostBody:t.newPostBody})}}),Object(pe.jsx)("div",{className:Ye.a.posts,children:t})]})})),ct=Be(10),ot=Object(Te.a)({form:"myPostAddPostForm"})((function(e){return Object(pe.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(pe.jsx)("div",{children:Object(pe.jsx)(Le.a,{className:Ye.a.postTextarea,component:Me,name:"newPostBody",placeholder:"Enter your post",validate:[He,ct]})}),Object(pe.jsx)("button",{className:Ye.a.btnPost,children:"Add post"})]})})),it=function(e){var t=e.profile,n=e.status,s=e.updateStatus,a=e.savePhoto,r=e.saveProfile,c=e.isAuth,o=e.userId;return c?Object(pe.jsxs)("div",{children:[Object(pe.jsx)(Qe,{userId:o,profile:t,status:n,updateStatus:s,savePhoto:a,saveProfile:r}),!o&&Object(pe.jsx)(rt,{})]}):Object(pe.jsx)(le.a,{to:"/login"})},ut=function(){var e=Object(ie.c)(),t=Object(le.h)().userId,n=Ie(ye),a=n.isAuth,r=(n.id,Ie(ke)),c=r.profile,o=r.status;return console.log(t),Object(s.useEffect)((function(){t&&(e(y(+t)),e(S(+t)))}),[]),Object(pe.jsx)("div",{children:Object(pe.jsx)(it,{userId:t,isAuth:a,profile:c,status:o,updateStatus:w,savePhoto:k,saveProfile:E})})},lt=n(38),dt=n.n(lt),jt=function(e){return Object(pe.jsx)("div",{className:dt.a.dialog,children:e.dialog})},bt=Be(50),ft=function(){var e=Ie(Se),t=e.dialogs,n=e.messages,s=Ie(ye).isAuth,r=Object(ie.c)(),c=t.map((function(e){var t=e.id,n=e.name;return Object(pe.jsx)("div",{children:n},t)})),o=n.map((function(e){var t=e.id,n=e.message;return Object(pe.jsx)(a.a.Fragment,{children:Object(pe.jsx)(jt,{dialog:n})},t)}));return s?Object(pe.jsxs)("div",{className:dt.a.dialogs,children:[Object(pe.jsx)("div",{className:dt.a.dialogsItems,children:c}),Object(pe.jsxs)("div",{className:dt.a.messages,children:[o,Object(pe.jsx)(pt,{onSubmit:function(e){var t;r((t=e.newMessageBody,{type:C,newMessageBody:t}))}})]})]}):Object(pe.jsx)(le.a,{to:"/login"})},pt=Object(Te.a)({form:"dialogAddMessageForm"})((function(e){return Object(pe.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(pe.jsx)(Le.a,{component:Me,name:"newMessageBody",placeholder:"Enter your message",validate:[He,bt]}),Object(pe.jsx)("div",{children:Object(pe.jsx)("button",{children:"Add message"})})]})})),ht=n(30),Ot=n.n(ht),mt=function(){var e=Ie(ke).profile,t=Object(ie.c)(),n=Ie(ye),s=n.login,a=n.isAuth;return Object(pe.jsxs)("header",{className:Ot.a.header,children:[Object(pe.jsx)("h1",{className:Ot.a.header_title,children:"Social"}),Object(pe.jsxs)("div",{className:Ot.a.loginBlock,children:[Object(pe.jsx)("img",{src:(null===e||void 0===e?void 0:e.photos.large)||ge,className:Ot.a.headerPhoto,alt:"avatar"}),a?Object(pe.jsxs)("div",{className:Ot.a.header_name_profile,children:[s," - ",Object(pe.jsx)("button",{className:Ot.a.button_header,onClick:function(){t(function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:0===e.sent.data.resultCode&&t(Z(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Log out"})]}):Object(pe.jsx)(ue.b,{to:"/login",children:"Login"})]})]})},gt=function(){var e=Object(ie.c)(),t=Ie(ye),n=t.isAuth,a=t.id,r=Ie(ke),c=r.profile,o=r.status,i=Object(le.h)().userId;return console.log(i,"userId"),Object(s.useEffect)((function(){a&&(e(y(+a)),e(S(+a)))}),[]),Object(pe.jsx)("div",{children:Object(pe.jsx)(it,{userId:i,isAuth:n,profile:c,status:o,updateStatus:w,savePhoto:k,saveProfile:E})})},xt=n(121),vt=n.n(xt),_t=n(51),Pt=n.n(_t),yt=function(e){var t=e.path,n=e.image,s=e.title;return Object(pe.jsx)("div",{className:Pt.a.item,children:Object(pe.jsxs)(ue.b,{className:function(e){var t=e.isActive;return"".concat(Pt.a.item," ").concat(t?Pt.a.active:"")},to:t,children:[Object(pe.jsx)("img",{className:Pt.a.routesImg,src:n,alt:"img"})," ",s," "]})})},St=function(){var e=Ie(Ce).routes;return Object(pe.jsx)("div",{className:vt.a.nav,children:Object(pe.jsx)("nav",{children:e.map((function(e){var t=e.title,n=e.path,s=e.image;return Object(pe.jsx)(a.a.Fragment,{children:Object(pe.jsx)(yt,{title:t,path:n,image:s})},n+t)}))})})},wt=function(){var e=Ie(we).initialized,t=Object(ie.c)();return Object(s.useEffect)((function(){t((function(e){e($()).then((function(){e({type:"INITIALIZED-SUCCESS"})}))}))}),[]),e?Object(pe.jsx)(pe.Fragment,{children:Object(pe.jsxs)(ue.a,{children:[Object(pe.jsx)("div",{className:"app-wrapper-header",children:Object(pe.jsx)("div",{className:"container",children:Object(pe.jsx)("div",{children:Object(pe.jsx)(mt,{})})})}),Object(pe.jsx)("div",{className:"app-wrapper-content",children:Object(pe.jsx)("div",{className:"container",children:Object(pe.jsxs)("div",{className:"app-content",children:[Object(pe.jsx)(St,{}),Object(pe.jsx)("div",{className:"app_profile",children:Object(pe.jsxs)(le.d,{children:[Object(pe.jsx)(le.b,{path:"/",element:Object(pe.jsx)(gt,{})}),Object(pe.jsx)(le.b,{path:"/profile/:userId",element:Object(pe.jsx)(ut,{})}),Object(pe.jsx)(le.b,{path:"/dialogs/*",element:Object(pe.jsx)(ft,{})}),Object(pe.jsx)(le.b,{path:"/news",element:Object(pe.jsx)("h2",{children:"News"})}),Object(pe.jsx)(le.b,{path:"/music",element:Object(pe.jsx)("h2",{children:"Music"})}),Object(pe.jsx)(le.b,{path:"/settings",element:Object(pe.jsx)("h2",{children:"Settings"})}),Object(pe.jsx)(le.b,{path:"/users",element:Object(pe.jsx)(Ne,{})}),Object(pe.jsx)(le.b,{path:"/login",element:Object(pe.jsx)(ze,{})}),Object(pe.jsx)(le.b,{path:"*",element:Object(pe.jsx)("div",{children:"404"})})]})})]})})})]})}):Object(pe.jsx)(Pe,{})};oe.a.render(Object(pe.jsx)(a.a.StrictMode,{children:Object(pe.jsx)(ie.a,{store:re,children:Object(pe.jsx)(wt,{})})}),document.getElementById("root")),r()},30:function(e,t,n){e.exports={header:"Header_header__3c_Tr",headerPhoto:"Header_headerPhoto__1_xWe",button_header:"Header_button_header__2sojS",header_name_profile:"Header_header_name_profile__uYz-S",loginBlock:"Header_loginBlock__1pyM0",header_title:"Header_header_title__i7FYP"}},38:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__I_CAQ",dialogsItems:"Dialogs_dialogsItems__1VEp2",messages:"Dialogs_messages__3SXIq"}},39:function(e,t,n){e.exports={myposts:"MyPosts_myposts__2twgh",posts:"MyPosts_posts__2G5MT",postTitle:"MyPosts_postTitle__3crZ8",postTextarea:"MyPosts_postTextarea__TwDnM",btnPost:"MyPosts_btnPost__1v2PL"}},40:function(e,t,n){e.exports={item:"Post_item__14JiU",postLike:"Post_postLike__359ee",like:"Post_like__24bn9",postImgMess:"Post_postImgMess__5cmVp"}},51:function(e,t,n){e.exports={item:"StyledNavLink_item__3V37q",active:"StyledNavLink_active__2aPHU",routesImg:"StyledNavLink_routesImg__1Xqa4"}},64:function(e,t,n){e.exports={userPhoto:"users_userPhoto__bL0S7",preloader:"users_preloader__Xn2Vp"}}},[[280,1,2]]]);
//# sourceMappingURL=main.d12c4a1d.chunk.js.map